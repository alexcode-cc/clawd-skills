# Agent ROS Bridge Configuration
# Supports multiple ROS1/ROS2 endpoints (local and remote)

bridge:
  name: "agent_ros_bridge"
  
  transports:
    websocket:
      port: 8765
      host: "0.0.0.0"
      # Authentication settings
      auth:
        enabled: false  # Set to true to enable JWT/API key auth
        jwt_secret: null  # Set via JWT_SECRET env var
        jwt_expiry_hours: 24
        api_keys: {}
          # Example API keys:
          # "ak_1234567890abcdef":
          #   user_id: "dashboard"
          #   roles: ["operator"]
          # "ak_0987654321fedcba":
          #   user_id: "viewer"
          #   roles: ["viewer"]
  
  connectors:
    ros:
      # Auto-detect local ROS if no endpoints configured
      auto_detect: true
      
      # Multiple ROS endpoints (local + remote)
      # Uncomment and configure for mixed ROS1/ROS2 environments
      endpoints: []
        # Example 1: Local ROS2
        # - id: "local_ros2"
        #   ros_type: "ros2"
        #   ros_distro: "jazzy"
        #   host: "localhost"
        #   domain_id: 0
        #   auto_discover: true
        
        # Example 2: Local ROS1
        # - id: "local_ros1"
        #   ros_type: "ros1"
        #   ros_distro: "noetic"
        #   host: "localhost"
        #   port: 11311
        #   auto_discover: true
        
        # Example 3: Remote ROS2 robot
        # - id: "warehouse_bot_01"
        #   ros_type: "ros2"
        #   ros_distro: "humble"
        #   host: "192.168.1.100"
        #   domain_id: 42
        #   auto_discover: true
        #   topics:
        #     - "/cmd_vel"
        #     - "/odom"
        #     - "/scan"
        
        # Example 4: Dual ROS1 + ROS2
        # - id: "legacy_arm"
        #   ros_type: "ros1"
        #   ros_distro: "noetic"
        #   host: "arm-robot.local"
        # - id: "new_base"
        #   ros_type: "ros2"
        #   ros_distro: "humble"
        #   host: "mobile-base.local"
        #   domain_id: 0

  security:
    enabled: false
  
  telemetry:
    enabled: true
    metrics_port: 9090
